第三方登录
==========

今日看到这条资讯：[全新Persona Beta：百万用户可以使用任意浏览器登录](http://mozilla.com.cn/post/49327/ "火狐社区") 联想到了不久前看到的：
[第三方账号登陆还是自主账号登录](http://blog.sina.com.cn/s/blog_4d65b8820101ad13.html "月光博客") 恰好自己昨天刷了MIUI V5，更新了许多软件，然后挨个登录账号并进行设置。幸好我安装的应用不多，否则得费不少功夫来做这些事。

现有的方案
---------

其实在许多环境中，已经有一些方案，可以解决复杂的登录、验证流程：

1. 大部分互联网公司的产品，都共享一个账号（部分称其为：通行证）。使用该账号，可以登录各种产品，并在多个设备间共享数据等信息。
2. 部分公司的网站，可以实现一次登录，随处使用(如百度，在任意网站登陆后，所有其网站服务均共享该账号)。
3. 少数公司的客户端产品，也可以支持一次登录，账号共享的功能（还是百度，在PC上安装并登陆百度云后，安装的爱奇艺客户端会自动登录到同一账号）。
4. 部分公司提供了“第三方登录”的支持，可以将某个网站的账号授权登录到其他网站（如 微博、人人、QQ 等）。

第三方登录
---------

其实“第三方登录”这个功能在Web上已经足够成熟了，我们来看一些优秀的例子。

1. [Gravatar.com](https://cn.gravatar.com/ "Gravatar") Gravatar 提供了一个和 e-mail 绑定的头像，让用户可以通过邮箱，像使用自己的名片一样来使用这幅头像。许多网站（如基于 wordpress 的博客）在用户留言时，都需要提供 e-mail 地址进行身份识别。如果你的邮箱绑定了 Gravatar，你的头像就会显示在留言的位置。
2. [weibo.com](http://weibo.com "Weibo") 微博大概是国内网站最常用的第三方登录服务。
![weibo.com](/images/third-party-logging-01.png "微博登录授权")

####第三方登录的延伸

Firefox 的 Persona 其实是将"第三方登录"中的“第三方”变成了浏览器，而不是传统的第三方网站。这种基于运行环境的方式带来的好处是：操作更加简单，授权方式更统一，管理更方便。

更优秀的例子是 Android 和 Google 服务的深度整合（第三方定制的系统除外）。任何一台 Android 设备，都可以登录用户的 Gmail 账户，来使用 Google 提供的各种服务。这个账户是属于这台设备的一部分，所有的 Google 服务都共享这个账户的信息。

####利与弊

第三方登录带来的好处是非常多的。

对于用户而言：

1. 免除了各种注册和登录的麻烦，也不再需要为记不住账号和密码而头疼了。
2. 不再需要担心各种钓鱼网站盗取重要账号。
3. 登录一次，就可以畅游各个网站。

对于开发者而言：

1. 免除了登录和注册模块，简化了开发，也减少了安全问题。
2. 简化的登录方式会吸引更多用户，因为不是每个人都有耐心填写长长的注册表单。

然而，第三方登录也存在许多问题。

对用户而言：

1. 授权之后，账户信息或功能对第三方完全透明，无法确定它会做什么。（经常看到“我连接了***，你也来看看吧！”的好友信息吧）
2. 账户一旦被盗，所有网络服务会全面失守。

对于开发者而言：

1. 作为服务接入方，无法在服务提供方那里保存用户数据，需要自己建立数据库。
2. 作为服务提供方，需要提供足够稳定、安全的“第三方登录”服务，也承担着保护用户数据和隐私的重要责任。（前段时间，各大网站账户泄露的问题吓到了许多人）

####不足与期待

现有的“第三方登录”服务所提供的支持很有限：对开发者而言，仍需要自行处理许多用户数据；对于用户而言，无法精确设定授权内容、不能很好地管理授权。

现有的“第三方登录”都是基于Web服务的，本地化的“第三方登录”还没有。比如 Android 设备上的 Google 服务可以共享一个账户，但其他应用还无法接入这个账户。如果有一个强大的服务，可以使用户在安装完应用之后，不需要注册、登录和设定，而直接可以享受应用的功能，那将是很大的便利。

许多公司在做“开放平台”之类的产品，如：Q+、360 桌面等。这些东西仍然只是产品，提供的资源也只能创建类似于Web应用的东西，还不够本地化。如果能做到 Google 服务与 Android 这种程度的整合，我想，这样的才敢称为“平台”。
![qplus.com](/images/third-party-logging-02.png "Q+ 桌面")